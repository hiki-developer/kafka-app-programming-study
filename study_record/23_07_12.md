### 스터디 기록
질문
- 건 : db 컨슈머가 토픽을 빠르게 병렬로 가져가고 싶다면 파티션을 2개 생성하여 프로듀서에서 적절히 2개의 파티션으로 데이터를 분산 전송을 하면 되는 걸까?
->
파티션은 데이터의 순서를 보장하는 단위이기 때문에, 동일한 파티션 내에서는 순서가 보장되지만, 다른 파티션 간의 순서는 보장되지 않는다.
질문의 의도대로 진행하는 것은 좀 더 고려해봐야 할 문제이다.
대신 파티션 수를 컨슈머의 수와 일치하도록 조정하는 것이 좋다. 2개의 파티션을 생성하고 컨슈머 2개가 각각의 파티션에서 데이터를 소비할 수 있기 때문에 병렬 처리가 가능하다.

어려웠던 개념
- jvm 위에서 동작하는 카프카 브로커가 페이지 캐시를 사용하지 않는다면 지금과 같이 빠른 동작을 기대할 수 없다. 페이지 캐시를 사용하지 않으면 카프카에서 캐시를 직접 구현해야 했을 것이고, 지속적으로 변경되는 데이터 때문에 가비지 컬렉션이 자주 일어나 속도가 현저히 느려질 것이기 때문이다. 이러한 특징 때문에 카프카 브로커를 실행하는데 힙 메모리 사이즈를 크게 설정할 필요가 없다.

- 
